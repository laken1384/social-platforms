{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Comment from \"@/components/CommentSection.vue\";\nimport { personpost, addContext, delpost } from \"@/api.js\";\nimport '@fortawesome/fontawesome-free/css/all.css'; // 引入Font Awesome的CSS样式\nexport default {\n  name: \"HomePage\",\n  components: {\n    Comment\n  },\n  data() {\n    return {\n      title: \"\",\n      context: \"\",\n      posts: [],\n      newCommentText: \"\",\n      showDialog: false\n    };\n  },\n  mounted() {\n    this.fetchPosts(); // 在 mounted 生命周期钩子中调用获取数据的方法\n  },\n\n  methods: {\n    fetchPosts() {\n      personpost().then(response => {\n        let data = response.data; // 将获取到的数据赋值给组件的 data 属性\n        this.posts = data.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n        console.log(data);\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    // addComment(post) {\n    //   // 添加评论的方法\n    // },\n    addComment(post) {\n      const newComment = {\n        id: Date.now(),\n        text: this.newCommentText\n      };\n      post.comments.push(newComment);\n      this.newCommentText = \"\";\n    },\n    addContext() {\n      addContext({\n        title: this.title,\n        content: this.context\n      }).then(() => {\n        location.reload();\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    Delpost(e) {\n      delpost({\n        postID: e.postID,\n        userID: e.userID\n      }).then(() => {\n        location.reload();\n      }).catch(error => {\n        console.error(error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["Comment","personpost","addContext","delpost","name","components","data","title","context","posts","newCommentText","showDialog","mounted","fetchPosts","methods","then","response","sort","a","b","Date","createdAt","console","log","catch","error","addComment","post","newComment","id","now","text","comments","push","content","location","reload","Delpost","e","postID","userID"],"sources":["/Users/laken/Documents/玉山銀行/front/src/views/MypostView.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <div class=\"user-profile\">\n      <router-link to=\"/main\">全部貼文</router-link> |\n      <router-link to=\"/login\">登出</router-link> |\n    </div>\n    <div class=\"posts\">\n      <div class=\"post\" v-for=\"post in posts\" :key=\"post.id\">\n        <div style=\"display: flex;justify-content: space-between;\">\n          <div></div>\n          <h2>{{ post.title }}</h2>\n          <i class=\"fas fa-times\" @click=\"()=>Delpost(post)\"></i>\n        </div>\n        <p>{{ post.createdAt }}</p>\n        <p>{{ post.content }}</p>\n        <comment :initial-comments=\"post.comments\"></comment>\n      </div>\n    </div>\n    <form @submit.prevent=\"addContext\">\n      <div class=\"form-group\">\n        <label for=\"title\"> Title : </label>\n        <input type=\"text\" id=\"title\" v-model=\"title\" required>\n        <button class=\"button\" type=\"submit\">送出</button>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"context\">Context:</label>\n        <input type=\"text\" v-model=\"context\" required>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport Comment from \"@/components/CommentSection.vue\";\nimport { personpost, addContext, delpost } from \"@/api.js\"\nimport '@fortawesome/fontawesome-free/css/all.css'; // 引入Font Awesome的CSS样式\nexport default {\n  name: \"HomePage\",\n  components: {\n    Comment,\n  },\n  data() {\n    return {\n      title: \"\",\n      context: \"\",\n      posts: [],\n      newCommentText: \"\",\n      showDialog: false,\n    }\n  },\n  mounted() {\n    this.fetchPosts(); // 在 mounted 生命周期钩子中调用获取数据的方法\n  },\n  methods: {\n    fetchPosts() {\n        personpost()\n        .then((response) => {\n          let data = response.data; // 将获取到的数据赋值给组件的 data 属性\n          this.posts = data.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n          console.log(data);\n        }).catch((error) => {\n          console.error(error);\n        });\n      },\n      // addComment(post) {\n      //   // 添加评论的方法\n      // },\n    addComment(post) {\n      const newComment = {\n        id: Date.now(),\n        text: this.newCommentText,\n      };\n      post.comments.push(newComment);\n      this.newCommentText = \"\";\n    },\n    addContext() {\n      addContext({\n        title: this.title,\n        content: this.context\n      }).then(() => {\n        location.reload();\n        }).catch((error) => {\n          console.error(error);\n        });\n    },\n    Delpost(e) {\n      delpost({\n        postID: e.postID,\n        userID: e.userID\n      }).then(() => {\n          location.reload();\n        }).catch((error) => {\n          console.error(error);\n        });\n    }\n  },\n};\n</script>\n\n<style scoped>\n.home {\n  /* 頁面的樣式 */\n}\n\n.user-profile {\n  text-align: right;\n  background: #f0f0f0;\n  color: #f0f0f0;\n  padding: 10px;\n  height: 20px;\n  a {\n    font-weight: bold;\n    color: #2c3e50;\n\n    &.router-link-exact-active {\n      color: #42b983;\n    }\n  }\n}\n.form-group {\n  margin-bottom: 10px;\n  text-align: left;\n  color: #ffffff;\n}\ninput[type=\"text\"],\ninput[type=\"textarea\"] {\n  -webkit-appearance: none;\n  width: 70%;\n  padding: 5px;\n}\n.posts {\n  margin-top: 20px;\n  color: #ffffff;\n}\n\n.post {\n  margin-bottom: 20px;\n  margin-right: 20px;\n  margin-left: 20px;\n  border: 2px solid white;\n}\n\n.post h2 {\n    text-decoration: underline;\n}\n\n.button {\n    display: inline-block;\n    text-align: center;\n    vertical-align: middle;\n    padding: 6px 12px;\n    border: 1px solid #258f81;\n    border-radius: 8px;\n    background: #3ce9d1;\n    background: -moz-linear-gradient(top, #3ce9d1, #258f81);\n    background: linear-gradient(to bottom, #3ce9d1, #258f81);\n    -webkit-box-shadow: #37d7c1 0px 0px 40px 0px;\n    -moz-box-shadow: #37d7c1 0px 0px 40px 0px;\n    box-shadow: #37d7c1 0px 0px 40px 0px;\n    text-shadow: #175a51 1px 1px 1px;\n    font: normal normal bold 10px arial;\n    color: #ffffff;\n    text-decoration: none;\n    height: 30px;\n}\n.button:hover {\n    border: 1px solid #2eb3a1;\n    background: #48fffb;\n    background: -moz-linear-gradient(top, #48fffb, #2cac9b);\n    background: linear-gradient(to bottom, #48fffb, #2cac9b);\n    color: #ffffff;\n    text-decoration: none;\n}\n</style>\n"],"mappings":";AAiCA,OAAOA,OAAM,MAAO,iCAAiC;AACrD,SAASC,UAAU,EAAEC,UAAU,EAAEC,OAAM,QAAS,UAAS;AACzD,OAAO,2CAA2C,EAAE;AACpD,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,UAAU,EAAE;IACVL;EACF,CAAC;EACDM,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,OAAO,EAAE,EAAE;MACXC,KAAK,EAAE,EAAE;MACTC,cAAc,EAAE,EAAE;MAClBC,UAAU,EAAE;IACd;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,UAAU,CAAC,CAAC,EAAE;EACrB,CAAC;;EACDC,OAAO,EAAE;IACPD,UAAUA,CAAA,EAAG;MACTZ,UAAU,CAAC,EACVc,IAAI,CAAEC,QAAQ,IAAK;QAClB,IAAIV,IAAG,GAAIU,QAAQ,CAACV,IAAI,EAAE;QAC1B,IAAI,CAACG,KAAI,GAAIH,IAAI,CAACW,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK,IAAIC,IAAI,CAACD,CAAC,CAACE,SAAS,IAAI,IAAID,IAAI,CAACF,CAAC,CAACG,SAAS,CAAC,CAAC;QAC/EC,OAAO,CAACC,GAAG,CAACjB,IAAI,CAAC;MACnB,CAAC,CAAC,CAACkB,KAAK,CAAEC,KAAK,IAAK;QAClBH,OAAO,CAACG,KAAK,CAACA,KAAK,CAAC;MACtB,CAAC,CAAC;IACJ,CAAC;IACD;IACA;IACA;IACFC,UAAUA,CAACC,IAAI,EAAE;MACf,MAAMC,UAAS,GAAI;QACjBC,EAAE,EAAET,IAAI,CAACU,GAAG,CAAC,CAAC;QACdC,IAAI,EAAE,IAAI,CAACrB;MACb,CAAC;MACDiB,IAAI,CAACK,QAAQ,CAACC,IAAI,CAACL,UAAU,CAAC;MAC9B,IAAI,CAAClB,cAAa,GAAI,EAAE;IAC1B,CAAC;IACDR,UAAUA,CAAA,EAAG;MACXA,UAAU,CAAC;QACTK,KAAK,EAAE,IAAI,CAACA,KAAK;QACjB2B,OAAO,EAAE,IAAI,CAAC1B;MAChB,CAAC,CAAC,CAACO,IAAI,CAAC,MAAM;QACZoB,QAAQ,CAACC,MAAM,CAAC,CAAC;MACjB,CAAC,CAAC,CAACZ,KAAK,CAAEC,KAAK,IAAK;QAClBH,OAAO,CAACG,KAAK,CAACA,KAAK,CAAC;MACtB,CAAC,CAAC;IACN,CAAC;IACDY,OAAOA,CAACC,CAAC,EAAE;MACTnC,OAAO,CAAC;QACNoC,MAAM,EAAED,CAAC,CAACC,MAAM;QAChBC,MAAM,EAAEF,CAAC,CAACE;MACZ,CAAC,CAAC,CAACzB,IAAI,CAAC,MAAM;QACVoB,QAAQ,CAACC,MAAM,CAAC,CAAC;MACnB,CAAC,CAAC,CAACZ,KAAK,CAAEC,KAAK,IAAK;QAClBH,OAAO,CAACG,KAAK,CAACA,KAAK,CAAC;MACtB,CAAC,CAAC;IACN;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}