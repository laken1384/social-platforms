{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-4dd9da4b\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"home\"\n};\nconst _hoisted_2 = {\n  class: \"user-profile\"\n};\nconst _hoisted_3 = {\n  class: \"posts\"\n};\nconst _hoisted_4 = {\n  style: {\n    \"display\": \"flex\",\n    \"justify-content\": \"space-between\"\n  }\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", null, null, -1 /* HOISTED */));\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = {\n  class: \"form-group\"\n};\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"title\"\n}, \" Title : \", -1 /* HOISTED */));\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"button\",\n  type: \"submit\"\n}, \"送出\", -1 /* HOISTED */));\nconst _hoisted_10 = {\n  class: \"form-group\"\n};\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"context\"\n}, \"Context:\", -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_comment = _resolveComponent(\"comment\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_router_link, {\n    to: \"/main\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"全部貼文\")]),\n    _: 1 /* STABLE */\n  }), _createTextVNode(\" | \"), _createVNode(_component_router_link, {\n    to: \"/login\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"登出\")]),\n    _: 1 /* STABLE */\n  }), _createTextVNode(\" | \")]), _createElementVNode(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.posts, post => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"post\",\n      key: post.id\n    }, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"h2\", null, _toDisplayString(post.title), 1 /* TEXT */), _createElementVNode(\"i\", {\n      class: \"fas fa-times\",\n      onClick: () => $options.Delpost(post)\n    }, null, 8 /* PROPS */, _hoisted_6)]), _createElementVNode(\"p\", null, _toDisplayString(post.createdAt), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString(post.content), 1 /* TEXT */), _createVNode(_component_comment, {\n      \"initial-comments\": post.comments\n    }, null, 8 /* PROPS */, [\"initial-comments\"])]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.addContext && $options.addContext(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"title\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.title = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.title]]), _hoisted_9]), _createElementVNode(\"div\", _hoisted_10, [_hoisted_11, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.context = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.context]])])], 32 /* HYDRATE_EVENTS */)]);\n}","map":{"version":3,"names":["class","style","_createElementVNode","for","type","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_router_link","to","_hoisted_3","_Fragment","_renderList","$data","posts","post","key","id","_hoisted_4","_hoisted_5","_toDisplayString","title","onClick","$options","Delpost","createdAt","content","_component_comment","comments","onSubmit","_cache","_withModifiers","args","addContext","_hoisted_7","_hoisted_8","$event","required","_hoisted_9","_hoisted_10","_hoisted_11","context"],"sources":["/Users/laken/Documents/玉山銀行/front/src/views/MypostView.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <div class=\"user-profile\">\n      <router-link to=\"/main\">全部貼文</router-link> |\n      <router-link to=\"/login\">登出</router-link> |\n    </div>\n    <div class=\"posts\">\n      <div class=\"post\" v-for=\"post in posts\" :key=\"post.id\">\n        <div style=\"display: flex;justify-content: space-between;\">\n          <div></div>\n          <h2>{{ post.title }}</h2>\n          <i class=\"fas fa-times\" @click=\"()=>Delpost(post)\"></i>\n        </div>\n        <p>{{ post.createdAt }}</p>\n        <p>{{ post.content }}</p>\n        <comment :initial-comments=\"post.comments\"></comment>\n      </div>\n    </div>\n    <form @submit.prevent=\"addContext\">\n      <div class=\"form-group\">\n        <label for=\"title\"> Title : </label>\n        <input type=\"text\" id=\"title\" v-model=\"title\" required>\n        <button class=\"button\" type=\"submit\">送出</button>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"context\">Context:</label>\n        <input type=\"text\" v-model=\"context\" required>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport Comment from \"@/components/CommentSection.vue\";\nimport { personpost, addContext, delpost } from \"@/api.js\"\nimport '@fortawesome/fontawesome-free/css/all.css'; // 引入Font Awesome的CSS样式\nexport default {\n  name: \"HomePage\",\n  components: {\n    Comment,\n  },\n  data() {\n    return {\n      title: \"\",\n      context: \"\",\n      posts: [],\n      newCommentText: \"\",\n      showDialog: false,\n    }\n  },\n  mounted() {\n    this.fetchPosts(); // 在 mounted 生命周期钩子中调用获取数据的方法\n  },\n  methods: {\n    fetchPosts() {\n        personpost()\n        .then((response) => {\n          let data = response.data; // 将获取到的数据赋值给组件的 data 属性\n          this.posts = data.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n          console.log(data);\n        }).catch((error) => {\n          console.error(error);\n        });\n      },\n      // addComment(post) {\n      //   // 添加评论的方法\n      // },\n    addComment(post) {\n      const newComment = {\n        id: Date.now(),\n        text: this.newCommentText,\n      };\n      post.comments.push(newComment);\n      this.newCommentText = \"\";\n    },\n    addContext() {\n      addContext({\n        title: this.title,\n        content: this.context\n      }).then(() => {\n        location.reload();\n        }).catch((error) => {\n          console.error(error);\n        });\n    },\n    Delpost(e) {\n      delpost({\n        postID: e.postID,\n        userID: e.userID\n      }).then(() => {\n          location.reload();\n        }).catch((error) => {\n          console.error(error);\n        });\n    }\n  },\n};\n</script>\n\n<style scoped>\n.home {\n  /* 頁面的樣式 */\n}\n\n.user-profile {\n  text-align: right;\n  background: #f0f0f0;\n  color: #f0f0f0;\n  padding: 30px;\n  height: 20px;\n  a {\n    font-weight: bold;\n    color: #2c3e50;\n\n    &.router-link-exact-active {\n      color: #42b983;\n    }\n  }\n}\n.form-group {\n  margin-bottom: 10px;\n  text-align: left;\n  color: #ffffff;\n}\ninput[type=\"text\"],\ninput[type=\"textarea\"] {\n  -webkit-appearance: none;\n  width: 70%;\n  padding: 5px;\n}\n.posts {\n  margin-top: 20px;\n  color: #ffffff;\n}\n\n.post {\n  margin-bottom: 20px;\n  margin-right: 20px;\n  margin-left: 20px;\n  border: 2px solid white;\n}\n\n.post h2 {\n    text-decoration: underline;\n}\n\n.button {\n    display: inline-block;\n    text-align: center;\n    vertical-align: middle;\n    padding: 6px 12px;\n    border: 1px solid #258f81;\n    border-radius: 8px;\n    background: #3ce9d1;\n    background: -moz-linear-gradient(top, #3ce9d1, #258f81);\n    background: linear-gradient(to bottom, #3ce9d1, #258f81);\n    -webkit-box-shadow: #37d7c1 0px 0px 40px 0px;\n    -moz-box-shadow: #37d7c1 0px 0px 40px 0px;\n    box-shadow: #37d7c1 0px 0px 40px 0px;\n    text-shadow: #175a51 1px 1px 1px;\n    font: normal normal bold 10px arial;\n    color: #ffffff;\n    text-decoration: none;\n    height: 30px;\n}\n.button:hover {\n    border: 1px solid #2eb3a1;\n    background: #48fffb;\n    background: -moz-linear-gradient(top, #48fffb, #2cac9b);\n    background: linear-gradient(to bottom, #48fffb, #2cac9b);\n    color: #ffffff;\n    text-decoration: none;\n}\n</style>\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAc;;EAIpBA,KAAK,EAAC;AAAO;;EAETC,KAAqD,EAArD;IAAA;IAAA;EAAA;AAAqD;gEACxDC,mBAAA,CAAW;;;EAUVF,KAAK,EAAC;AAAY;gEACrBE,mBAAA,CAAoC;EAA7BC,GAAG,EAAC;AAAO,GAAC,WAAS;gEAE5BD,mBAAA,CAAgD;EAAxCF,KAAK,EAAC,QAAQ;EAACI,IAAI,EAAC;GAAS,IAAE;;EAEpCJ,KAAK,EAAC;AAAY;iEACrBE,mBAAA,CAAqC;EAA9BC,GAAG,EAAC;AAAS,GAAC,UAAQ;;;;;uBAxBnCE,mBAAA,CA4BM,OA5BNC,UA4BM,GA3BJJ,mBAAA,CAGM,OAHNK,UAGM,GAFJC,YAAA,CAA0CC,sBAAA;IAA7BC,EAAE,EAAC;EAAO;sBAAC,MAAI,C,iBAAJ,MAAI,E;;uBAAc,KAC1C,GAAAF,YAAA,CAAyCC,sBAAA;IAA5BC,EAAE,EAAC;EAAQ;sBAAC,MAAE,C,iBAAF,IAAE,E;;uBAAc,KAC3C,E,GACAR,mBAAA,CAWM,OAXNS,UAWM,I,kBAVJN,mBAAA,CASMO,SAAA,QAAAC,WAAA,CAT2BC,KAAA,CAAAC,KAAK,EAAbC,IAAI;yBAA7BX,mBAAA,CASM;MATDL,KAAK,EAAC,MAAM;MAAwBiB,GAAG,EAAED,IAAI,CAACE;QACjDhB,mBAAA,CAIM,OAJNiB,UAIM,GAHJC,UAAW,EACXlB,mBAAA,CAAyB,YAAAmB,gBAAA,CAAlBL,IAAI,CAACM,KAAK,kBACjBpB,mBAAA,CAAuD;MAApDF,KAAK,EAAC,cAAc;MAAEuB,OAAK,EAAAA,CAAA,KAAMC,QAAA,CAAAC,OAAO,CAACT,IAAI;2CAElDd,mBAAA,CAA2B,WAAAmB,gBAAA,CAArBL,IAAI,CAACU,SAAS,kBACpBxB,mBAAA,CAAyB,WAAAmB,gBAAA,CAAnBL,IAAI,CAACW,OAAO,kBAClBnB,YAAA,CAAqDoB,kBAAA;MAA3C,kBAAgB,EAAEZ,IAAI,CAACa;;oCAGrC3B,mBAAA,CAUO;IAVA4B,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUT,QAAA,CAAAU,UAAA,IAAAV,QAAA,CAAAU,UAAA,IAAAD,IAAA,CAAU;MAC/B/B,mBAAA,CAIM,OAJNiC,UAIM,GAHJC,UAAoC,E,gBACpClC,mBAAA,CAAuD;IAAhDE,IAAI,EAAC,MAAM;IAACc,EAAE,EAAC,OAAO;+DAAUJ,KAAA,CAAAQ,KAAK,GAAAe,MAAA;IAAEC,QAAQ,EAAR;iDAAPxB,KAAA,CAAAQ,KAAK,E,GAC5CiB,UAAgD,C,GAElDrC,mBAAA,CAGM,OAHNsC,WAGM,GAFJC,WAAqC,E,gBACrCvC,mBAAA,CAA8C;IAAvCE,IAAI,EAAC,MAAM;+DAAUU,KAAA,CAAA4B,OAAO,GAAAL,MAAA;IAAEC,QAAQ,EAAR;iDAATxB,KAAA,CAAA4B,OAAO,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}